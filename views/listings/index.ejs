<% layout("/layouts/boilerplate") %>

<!-- ================= HERO ================= -->
<section class="hero-section text-white mb-5">
  <div class="container text-center py-5">
    <h1 class="display-4 fw-bold mb-3">
      Find Your Perfect Stay üåç
    </h1>
    <p class="lead mb-4">
      Hand-picked homes, unforgettable experiences
    </p>

    <!-- SEARCH -->
    <form class="row justify-content-center g-2" method="GET" action="/listings">
      <div class="col-md-4">
        <input
          type="text"
          name="search"
          class="form-control form-control-lg rounded-pill"
          placeholder="üîç Search by city, country or title"
        />
      </div>
      <div class="col-md-2">
        <button class="btn btn-warning btn-lg rounded-pill w-100 fw-bold">
          Search
        </button>
      </div>
    </form>
  </div>
</section>

<!-- ================= FEATURES ================= -->
<section class="container mb-5">
  <div class="row text-center g-4">

    <div class="col-md-3">
      <div class="feature-card">
        <i class="fa-solid fa-house"></i>
        <h6>Unique Homes</h6>
        <p>Carefully curated stays</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="feature-card">
        <i class="fa-solid fa-location-dot"></i>
        <h6>Prime Locations</h6>
        <p>Best places worldwide</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="feature-card">
        <i class="fa-solid fa-shield-heart"></i>
        <h6>Trusted Hosts</h6>
        <p>Verified & secure</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="feature-card">
        <i class="fa-solid fa-star"></i>
        <h6>Top Rated</h6>
        <p>Loved by guests</p>
      </div>
    </div>

  </div>
</section>

<!-- ================= LISTINGS ================= -->
<section class="container">
  <h3 class="fw-bold mb-4 text-gradient">
    Featured Listings
  </h3>

  <div class="row g-4">
    <% for (let listing of allListings) { %>
      <div class="col-md-4">
        <a href="/listings/<%= listing._id %>" class="text-decoration-none">
          <div class="listing-card">

            <img
              src="<%= listing.image?.url || 'https://via.placeholder.com/600x400' %>"
              alt="<%= listing.title %>"
            />

            <div class="p-3">
              <h5><%= listing.title %></h5>
              <p class="location">
                <%= listing.location %>, <%= listing.country %>
              </p>
              <span class="price">
                ‚Çπ <%= listing.price %> / night
              </span>
            </div>

          </div>
        </a>
      </div>
    <% } %>
  </div>
</section>

<!-- ================= STYLES ================= -->
<style>
/* HERO */
.hero-section {
  background: linear-gradient(135deg, #ff512f, #dd2476);
  border-radius: 0 0 40px 40px;
}

/* FEATURES */
.feature-card {
  background: #fff;
  padding: 30px 20px;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  transition: transform 0.3s ease;
}
.feature-card:hover {
  transform: translateY(-8px);
}
.feature-card i {
  font-size: 32px;
  color: #ff5a5f;
  margin-bottom: 15px;
}
.feature-card h6 {
  font-weight: 700;
}
.feature-card p {
  font-size: 14px;
  color: #6c757d;
}

/* LISTINGS */
.listing-card {
  background: #fff;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 12px 30px rgba(0,0,0,0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.listing-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 18px 45px rgba(0,0,0,0.18);
}
.listing-card img {
  width: 100%;
  height: 220px;
  object-fit: cover;
}
.listing-card h5 {
  font-weight: 700;
  margin-bottom: 5px;
  color: #212529;
}
.location {
  font-size: 14px;
  color: #6c757d;
}
.price {
  color: #28a745;
  font-weight: 700;
}

/* TEXT GRADIENT */
.text-gradient {
  background: linear-gradient(90deg, #ff512f, #dd2476);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
</style>
